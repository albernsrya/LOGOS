<Simulation verbosity="debug">

  <RunInfo>
      <WorkingDir>./</WorkingDir>
      <Sequence>MultiRun,print</Sequence>
      <batchSize>1</batchSize>
  </RunInfo>

  <Steps>
      <MultiRun  name='MultiRun'>
        <Input   class="DataObjects" type="PointSet"      >inputPlaceHolderMain</Input>
        <Model   class='Models'      type='ExternalModel' >CRAFT_Model</Model>
        <Sampler class='Samplers'    type='MonteCarlo'    >MC_main</Sampler>
        <Output  class='DataObjects' type='PointSet'      >main</Output>
      </MultiRun>
      <IOStep name='print'>
        <Input   class="DataObjects" type="PointSet"      >main</Input>
        <Output  class='OutStreams'  type='Print'         >Print_sim_PS</Output>
      </IOStep>
  </Steps>

  <Distributions>
      <Uniform name='b_V1_dist'>
        <lowerBound>1.E-8</lowerBound>
        <upperBound>1.E-7</upperBound>
      </Uniform>
      <Uniform name='b_V2_dist'>
        <lowerBound>1.E-4</lowerBound>
        <upperBound>2.E-4</upperBound>
      </Uniform>
      <Uniform name='alpha_P1_dist'>
        <lowerBound>2.0</lowerBound>
        <upperBound>2.5</upperBound>
      </Uniform>
      <Uniform name='beta_P1_dist'>
        <lowerBound>0.2</lowerBound>
        <upperBound>0.3</upperBound>
      </Uniform>
      <Uniform name='delta_P2_dist'>
        <lowerBound>0.1</lowerBound>
        <upperBound>0.6</upperBound>
      </Uniform>
      <Uniform name='alpha_SG_dist'>
        <lowerBound>1.E4</lowerBound>
        <upperBound>1.5E4</upperBound>
      </Uniform>
      <Uniform name='beta_SG_dist'>
        <lowerBound>1.E3</lowerBound>
        <upperBound>2.E3</upperBound>
      </Uniform>
  </Distributions>

  <Samplers>
    <MonteCarlo name="MC_main">
      <samplerInit>
        <limit>500</limit>
        <initialSeed>2561978</initialSeed>
      </samplerInit>
      <constant name='a_V1'>3.E-4</constant>
      <variable name='b_V1'>
        <distribution>b_V1_dist</distribution>
      </variable>

      <constant name='a_V2'>-4</constant>
      <variable name='b_V2'>
        <distribution>b_V2_dist</distribution>
      </variable>

      <variable name='alpha_P1'>
        <distribution>alpha_P1_dist</distribution>
      </variable>
      <variable name='beta_P1'>
        <distribution>beta_P1_dist</distribution>
      </variable>

      <variable name='delta_P2'>
        <distribution>delta_P2_dist</distribution>
      </variable>

      <variable name='alpha_SG'>
        <distribution>alpha_SG_dist</distribution>
      </variable>
      <variable name='beta_SG'>
        <distribution>beta_SG_dist</distribution>
      </variable> 

      <constant name='T'>7300</constant>
    </MonteCarlo>
  </Samplers>

  <Models>
    <EnsembleModel name="CRAFT_Model" subType="">
      <Model class="Models" type="ExternalModel">
        lambdaV1
        <Input            class="DataObjects" type="PointSet" >inputPlaceHolderMain</Input>
        <TargetEvaluation class="DataObjects" type="PointSet" >lambdaV1_PS</TargetEvaluation>
      </Model>
      <Model class="Models" type="ExternalModel">
        lambdaV2
        <Input            class="DataObjects" type="PointSet" >inputPlaceHolderMain</Input>
        <TargetEvaluation class="DataObjects" type="PointSet" >lambdaV2_PS</TargetEvaluation>
      </Model>
      <Model class="Models" type="ExternalModel">
        RUL_P1
        <Input            class="DataObjects" type="PointSet" >inputPlaceHolderMain</Input>
        <TargetEvaluation class="DataObjects" type="PointSet" >RUL_P1_PS</TargetEvaluation>
      </Model>
      <Model class="Models" type="ExternalModel">
        unav_P2
        <Input            class="DataObjects" type="PointSet" >inputPlaceHolderMain</Input>
        <TargetEvaluation class="DataObjects" type="PointSet" >unav_P2_PS</TargetEvaluation>
      </Model>
      <Model class="Models" type="ExternalModel">
        RUL_SG
        <Input            class="DataObjects" type="PointSet" >inputPlaceHolderMain</Input>
        <TargetEvaluation class="DataObjects" type="PointSet" >RUL_SG_PS</TargetEvaluation>
      </Model>

      <Model class="Models" type="ExternalModel">
        PRAmodel
        <Input            class="DataObjects" type="PointSet" >inputPlaceHolderMain</Input>
        <TargetEvaluation class="DataObjects" type="PointSet" >PRA_PS</TargetEvaluation>
      </Model>  
    </EnsembleModel>

    <!-- Reliability models-->
    <ExternalModel name="lambdaV1" ModuleToLoad="lambdaV1" subType="">
      <variables>T, a_V1, b_V1,
                 a_V2, b_V2,
                 alpha_P1, beta_P1,
                 delta_P2,
                 alpha_SG, beta_SG,
                 t_V1, p_V1</variables>
    </ExternalModel>
    <ExternalModel name="lambdaV2" ModuleToLoad="lambdaV2" subType="">
      <variables>T, a_V1, b_V1,
                 a_V2, b_V2,
                 alpha_P1, beta_P1,
                 delta_P2,
                 alpha_SG, beta_SG,
                 t_V2, p_V2</variables>
    </ExternalModel>
    <ExternalModel name="RUL_P1" ModuleToLoad="RUL_P1" subType="">
      <variables>T, a_V1, b_V1,
                 a_V2, b_V2,
                 alpha_P1, beta_P1,
                 delta_P2,
                 alpha_SG, beta_SG,
                 t_P1, p_P1</variables>
    </ExternalModel>
    <ExternalModel name="unav_P2" ModuleToLoad="unav_P2" subType="">
      <variables>T, a_V1, b_V1,
                 a_V2, b_V2,
                 alpha_P1, beta_P1,
                 delta_P2,
                 alpha_SG, beta_SG,
                 t_P2, p_P2</variables>
    </ExternalModel>
    <ExternalModel name="RUL_SG" ModuleToLoad="RUL_SG" subType="">
      <variables>T, a_V1, b_V1,
                 a_V2, b_V2,
                 alpha_P1, beta_P1,
                 delta_P2,
                 alpha_SG, beta_SG,
                 t_SG, p_SG</variables>
    </ExternalModel>
    <ExternalModel name="PRAmodel" ModuleToLoad="PRAmodel" subType="">
      <variables>T, 
                 t_V1, p_V1, t_V2, p_V2, 
                 t_SG, p_SG, 
                 t_P1, p_P1, t_P2, p_P2,
                 CDF</variables>
    </ExternalModel>
  </Models>

  <DataObjects>
    <PointSet name="lambdaV1_PS">
      <Input>T, a_V1, b_V1,
             a_V2, b_V2,
             alpha_P1, beta_P1,
             delta_P2,
             alpha_SG, beta_SG
      </Input>
      <Output>t_V1, p_V1</Output>
    </PointSet>
    <PointSet name="lambdaV2_PS">
      <Input>T, a_V1, b_V1,
             a_V2, b_V2,
             alpha_P1, beta_P1,
             delta_P2,
             alpha_SG, beta_SG
      </Input>
      <Output>t_V2, p_V2</Output>
    </PointSet>
    <PointSet name="RUL_P1_PS">
      <Input>T, a_V1, b_V1,
             a_V2, b_V2,
             alpha_P1, beta_P1,
             delta_P2,
             alpha_SG, beta_SG
      </Input>
      <Output>t_P1, p_P1</Output>
    </PointSet>
    <PointSet name="unav_P2_PS">
      <Input>T, a_V1, b_V1,
             a_V2, b_V2,
             alpha_P1, beta_P1,
             delta_P2,
             alpha_SG, beta_SG
      </Input>
      <Output>t_P2, p_P2</Output>
    </PointSet>
    <PointSet name="RUL_SG_PS">
      <Input>T, a_V1, b_V1,
             a_V2, b_V2,
             alpha_P1, beta_P1,
             delta_P2,
             alpha_SG, beta_SG
      </Input>
      <Output>t_SG, p_SG</Output>
    </PointSet>

    <PointSet name="main">
      <Input>T, a_V1, b_V1,
             a_V2, b_V2,
             alpha_P1, beta_P1,
             delta_P2,
             alpha_SG, beta_SG
      </Input>
      <Output>t_V1, p_V1,
              t_V2, p_V2,
              t_P1, p_P1,
              t_P2, p_P2,
              t_SG, p_SG,
              CDF
      </Output>
    </PointSet>
    <PointSet name="inputPlaceHolderMain">
      <Input>InputPlaceHolder</Input>
      <Output>OutputPlaceHolder</Output>
    </PointSet>
  </DataObjects>

  <OutStreams>
    <Print name="Print_sim_PS">
      <type>csv</type>
      <source>main</source>
      <what>input,output</what>
    </Print>
  </OutStreams>

</Simulation>
